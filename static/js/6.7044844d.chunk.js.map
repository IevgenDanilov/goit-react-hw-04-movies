{"version":3,"sources":["shared/services/api.js","pages/movieDetailsPage/MovieDetailsPage.module.scss","pages/movieDetailsPage/MovieDetailsPage.jsx"],"names":["axios","defaults","baseURL","params","api_key","getTrendingMovies","get","getSingleMovie","movie_id","getSearchedMovies","query","getCastMovie","getReviewsMovie","module","exports","Cast","lazy","Reviews","MovieDetailsPage","history","useHistory","useParams","location","useLocation","useState","movie","setMovie","setError","useEffect","a","movieId","data","fetchMovie","type","className","styles","btn","onClick","state","from","prevLocation","push","routes","HOME_PAGE","mainSection","src","backdrop_path","alt","mainImage","title","vote_average","overview","genres","map","id","name","list","to","pathname","clearLink","fallback","path","MOVIE_DATAILS_PAGE","exact","render"],"mappings":"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","file":"static/js/6.7044844d.chunk.js","sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\naxios.defaults.params = {\n  api_key: \"92328ae8dd5bcee1597a295c993c895b\",\n};\n\nexport const getTrendingMovies = () => {\n  return axios.get(`/trending/movie/day`);\n};\n\nexport const getSingleMovie = (movie_id) => {\n  return axios.get(`/movie/${movie_id}?language=en-US`);\n};\n\nexport const getSearchedMovies = (query) => {\n  return axios.get(\n    `/search/movie?language=en-US&query=${query}&page=1&include_adult=false`\n  );\n};\n\nexport const getCastMovie = (movie_id) => {\n  return axios.get(`/movie/${movie_id}/credits?language=en-US`);\n};\n\nexport const getReviewsMovie = (movie_id) => {\n  return axios.get(`/movie/${movie_id}/reviews?language=en-US&page=1`);\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clearLink\":\"MovieDetailsPage_clearLink__2GRmH\",\"btn\":\"MovieDetailsPage_btn__3DMYX\",\"mainSection\":\"MovieDetailsPage_mainSection__BOh1F\",\"mainImage\":\"MovieDetailsPage_mainImage__10OFU\",\"list\":\"MovieDetailsPage_list__2ZOTm\"};","import {\r\n  useHistory,\r\n  useParams,\r\n  useLocation,\r\n  Link,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getSingleMovie } from \"../../shared/services/api\";\r\nimport { lazy, Suspense } from \"react\";\r\nimport { routes } from \"../../shared/services/routes\";\r\nimport styles from \"./MovieDetailsPage.module.scss\";\r\n\r\nconst Cast = lazy(() => import(\"./cast\"));\r\nconst Reviews = lazy(() => import(\"./reviews\"));\r\n\r\nconst imagePath = \"https://image.tmdb.org/t/p/w500\";\r\n\r\nconst MovieDetailsPage = () => {\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  const location = useLocation();\r\n  const [movie, setMovie] = useState();\r\n  const [error, setError] = useState();\r\n\r\n  useEffect(() => {\r\n    const fetchMovie = async () => {\r\n      try {\r\n        const { data } = await getSingleMovie(params.movieId);\r\n        setMovie(data);\r\n      } catch (error) {\r\n        setError(error);\r\n      }\r\n    };\r\n    fetchMovie();\r\n  }, []);\r\n\r\n  const handleBack = () => {\r\n    if (location?.state?.from) {\r\n      const prevLocation = location.state.from;\r\n      history.push(prevLocation);\r\n    } else {\r\n      history.push(routes.HOME_PAGE);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button type=\"button\" className={styles.btn} onClick={handleBack}>\r\n        â—€ Go back\r\n      </button>\r\n      <section className={styles.mainSection}>\r\n        <img\r\n          src={movie && `${imagePath}${movie?.backdrop_path}`}\r\n          alt=\"\"\r\n          className={styles.mainImage}\r\n        />\r\n        <div>\r\n          <h1>{movie?.title}</h1>\r\n          <p>User score: {[movie?.vote_average * 10]}%</p>\r\n          <h3>Overview</h3>\r\n          <p>{movie?.overview}</p>\r\n          <h4>Genres</h4>\r\n\r\n          <p>\r\n            {movie?.genres.map(({ id, name }) => (\r\n              <span key={id}>{name} </span>\r\n            ))}\r\n          </p>\r\n        </div>\r\n      </section>\r\n      <hr />\r\n      <section>\r\n        <h4>Additional information</h4>\r\n        <ul className={styles.list}>\r\n          <li>\r\n            <Link\r\n              to={{\r\n                pathname: `/movies/${params.movieId}/cast`,\r\n                state: { from: location?.state.from },\r\n              }}\r\n              className={styles.clearLink}\r\n            >\r\n              Casts\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link\r\n              to={{\r\n                pathname: `/movies/${params.movieId}/reviews`,\r\n                state: { from: location?.state.from },\r\n              }}\r\n              className={styles.clearLink}\r\n            >\r\n              Reviews\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </section>\r\n      <hr />\r\n      <Suspense fallback={<p>Loading...</p>}>\r\n        <Route\r\n          path={`${routes.MOVIE_DATAILS_PAGE}/cast`}\r\n          exact\r\n          render={() => <Cast title=\"Cast\" id={params.movieId} />}\r\n        />\r\n        <Route\r\n          path={`${routes.MOVIE_DATAILS_PAGE}/reviews`}\r\n          exact\r\n          render={() => <Reviews title=\"Reviews\" id={params.movieId} />}\r\n        />\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}