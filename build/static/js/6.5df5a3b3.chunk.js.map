{"version":3,"sources":["pages/movieDetailsPage/MovieDetailsPage.module.scss","pages/movieDetailsPage/MovieDetailsPage.jsx","shared/services/api.js"],"names":["module","exports","Cast","lazy","Reviews","MovieDetailsPage","history","useHistory","params","useParams","location","useLocation","useState","movie","setMovie","setError","useEffect","a","getSingleMovie","movieId","data","fetchMovie","type","className","styles","btn","onClick","state","from","prevLocation","push","routes","HOME_PAGE","mainSection","src","backdrop_path","alt","mainImage","title","vote_average","overview","genres","map","id","name","list","to","pathname","clearLink","fallback","color","height","width","timeout","path","MOVIE_DATAILS_PAGE","exact","render","axios","defaults","baseURL","api_key","getTrendingMovies","get","movie_id","getSearchedMovies","query","getCastMovie","getReviewsMovie"],"mappings":"6HACAA,EAAOC,QAAU,CAAC,UAAY,oCAAoC,IAAM,8BAA8B,YAAc,sCAAsC,UAAY,oCAAoC,KAAO,iC,oMCa3MC,EAAOC,gBAAK,kBAAM,iCAClBC,EAAUD,gBAAK,kBAAM,iCAiHZE,EA7GU,WACvB,IAAMC,EAAUC,cACVC,EAASC,cACTC,EAAWC,cAHY,EAIHC,qBAJG,mBAItBC,EAJsB,KAIfC,EAJe,OAKHF,qBALG,mBAKfG,GALe,WAO7BC,qBAAU,YACQ,uCAAG,8BAAAC,EAAA,+EAEQC,YAAeV,EAAOW,SAF9B,gBAEPC,EAFO,EAEPA,KACRN,EAASM,GAHM,gDAKfL,EAAS,EAAD,IALO,yDAAH,qDAQhBM,KACC,IAWH,OACE,qCACE,wBAAQC,KAAK,SAASC,UAAWC,IAAOC,IAAKC,QAX9B,WAAO,IAAD,EACvB,UAAIhB,QAAJ,IAAIA,GAAJ,UAAIA,EAAUiB,aAAd,aAAI,EAAiBC,KAAM,CACzB,IAAMC,EAAenB,EAASiB,MAAMC,KACpCtB,EAAQwB,KAAKD,QAEbvB,EAAQwB,KAAKC,IAAOC,YAMpB,4BAGA,0BAAST,UAAWC,IAAOS,YAA3B,UACE,qBACEC,IAAKrB,GAAK,UArCF,mCAqCE,cAAmBA,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAOsB,eACpCC,IAAI,GACJb,UAAWC,IAAOa,YAEpB,gCACE,oCAAKxB,QAAL,IAAKA,OAAL,EAAKA,EAAOyB,QACZ,6CAAgB,CAAuB,IAAjB,OAALzB,QAAK,IAALA,OAAA,EAAAA,EAAO0B,eAAxB,OACA,0CACA,mCAAI1B,QAAJ,IAAIA,OAAJ,EAAIA,EAAO2B,WACX,wCAEA,mCACG3B,QADH,IACGA,OADH,EACGA,EAAO4B,OAAOC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAP,OACjB,iCAAgBA,EAAhB,MAAWD,cAKnB,uBACA,oCACE,wDACA,qBAAIpB,UAAWC,IAAOqB,KAAtB,UACE,6BACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAavC,EAAOW,QAApB,SACRQ,MAAO,CAAEC,KAAI,OAAElB,QAAF,IAAEA,OAAF,EAAEA,EAAUiB,MAAMC,OAEjCL,UAAWC,IAAOwB,UALpB,qBAUF,6BACE,cAAC,IAAD,CACEF,GAAI,CACFC,SAAS,WAAD,OAAavC,EAAOW,QAApB,YACRQ,MAAO,CAAEC,KAAI,OAAElB,QAAF,IAAEA,OAAF,EAAEA,EAAUiB,MAAMC,OAEjCL,UAAWC,IAAOwB,UALpB,6BAYN,uBACA,eAAC,WAAD,CACEC,SACE,cAAC,IAAD,CACE1B,UAAU,SACVD,KAAK,WACL4B,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,IARf,UAYE,cAAC,IAAD,CACEC,KAAI,UAAKvB,IAAOwB,mBAAZ,SACJC,OAAK,EACLC,OAAQ,kBAAM,cAACvD,EAAD,CAAMoC,MAAM,OAAOK,GAAInC,EAAOW,aAE9C,cAAC,IAAD,CACEmC,KAAI,UAAKvB,IAAOwB,mBAAZ,YACJC,OAAK,EACLC,OAAQ,kBAAM,cAACrD,EAAD,CAASkC,MAAM,UAAUK,GAAInC,EAAOW,qB,gCCzH5D,+LAEAuC,IAAMC,SAASC,QAAU,+BACzBF,IAAMC,SAASnD,OAAS,CACtBqD,QAAS,oCAGJ,IAAMC,EAAoB,WAC/B,OAAOJ,IAAMK,IAAN,wBAGI7C,EAAiB,SAAC8C,GAC7B,OAAON,IAAMK,IAAN,iBAAoBC,EAApB,qBAGIC,EAAoB,SAACC,GAChC,OAAOR,IAAMK,IAAN,6CACiCG,EADjC,iCAKIC,EAAe,SAACH,GAC3B,OAAON,IAAMK,IAAN,iBAAoBC,EAApB,6BAGII,EAAkB,SAACJ,GAC9B,OAAON,IAAMK,IAAN,iBAAoBC,EAApB","file":"static/js/6.5df5a3b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"clearLink\":\"MovieDetailsPage_clearLink__2GRmH\",\"btn\":\"MovieDetailsPage_btn__3DMYX\",\"mainSection\":\"MovieDetailsPage_mainSection__BOh1F\",\"mainImage\":\"MovieDetailsPage_mainImage__10OFU\",\"list\":\"MovieDetailsPage_list__2ZOTm\"};","import {\r\n  useHistory,\r\n  useParams,\r\n  useLocation,\r\n  Link,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getSingleMovie } from \"../../shared/services/api\";\r\nimport { lazy, Suspense } from \"react\";\r\nimport { routes } from \"../../shared/services/routes\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./MovieDetailsPage.module.scss\";\r\n\r\nconst Cast = lazy(() => import(\"./cast\"));\r\nconst Reviews = lazy(() => import(\"./reviews\"));\r\n\r\nconst imagePath = \"https://image.tmdb.org/t/p/w500\";\r\n\r\nconst MovieDetailsPage = () => {\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  const location = useLocation();\r\n  const [movie, setMovie] = useState();\r\n  const [error, setError] = useState();\r\n\r\n  useEffect(() => {\r\n    const fetchMovie = async () => {\r\n      try {\r\n        const { data } = await getSingleMovie(params.movieId);\r\n        setMovie(data);\r\n      } catch (error) {\r\n        setError(error);\r\n      }\r\n    };\r\n    fetchMovie();\r\n  }, []);\r\n\r\n  const handleBack = () => {\r\n    if (location?.state?.from) {\r\n      const prevLocation = location.state.from;\r\n      history.push(prevLocation);\r\n    } else {\r\n      history.push(routes.HOME_PAGE);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button type=\"button\" className={styles.btn} onClick={handleBack}>\r\n        â—€ Go back\r\n      </button>\r\n      <section className={styles.mainSection}>\r\n        <img\r\n          src={movie && `${imagePath}${movie?.backdrop_path}`}\r\n          alt=\"\"\r\n          className={styles.mainImage}\r\n        />\r\n        <div>\r\n          <h1>{movie?.title}</h1>\r\n          <p>User score: {[movie?.vote_average * 10]}%</p>\r\n          <h3>Overview</h3>\r\n          <p>{movie?.overview}</p>\r\n          <h4>Genres</h4>\r\n\r\n          <p>\r\n            {movie?.genres.map(({ id, name }) => (\r\n              <span key={id}>{name} </span>\r\n            ))}\r\n          </p>\r\n        </div>\r\n      </section>\r\n      <hr />\r\n      <section>\r\n        <h4>Additional information</h4>\r\n        <ul className={styles.list}>\r\n          <li>\r\n            <Link\r\n              to={{\r\n                pathname: `/movies/${params.movieId}/cast`,\r\n                state: { from: location?.state.from },\r\n              }}\r\n              className={styles.clearLink}\r\n            >\r\n              Casts\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link\r\n              to={{\r\n                pathname: `/movies/${params.movieId}/reviews`,\r\n                state: { from: location?.state.from },\r\n              }}\r\n              className={styles.clearLink}\r\n            >\r\n              Reviews\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </section>\r\n      <hr />\r\n      <Suspense\r\n        fallback={\r\n          <Loader\r\n            className=\"Loader\"\r\n            type=\"TailSpin\"\r\n            color=\"#3f51b5\"\r\n            height={50}\r\n            width={50}\r\n            timeout={0}\r\n          />\r\n        }\r\n      >\r\n        <Route\r\n          path={`${routes.MOVIE_DATAILS_PAGE}/cast`}\r\n          exact\r\n          render={() => <Cast title=\"Cast\" id={params.movieId} />}\r\n        />\r\n        <Route\r\n          path={`${routes.MOVIE_DATAILS_PAGE}/reviews`}\r\n          exact\r\n          render={() => <Reviews title=\"Reviews\" id={params.movieId} />}\r\n        />\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetailsPage;\r\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\naxios.defaults.params = {\n  api_key: \"92328ae8dd5bcee1597a295c993c895b\",\n};\n\nexport const getTrendingMovies = () => {\n  return axios.get(`/trending/movie/day`);\n};\n\nexport const getSingleMovie = (movie_id) => {\n  return axios.get(`/movie/${movie_id}?language=en-US`);\n};\n\nexport const getSearchedMovies = (query) => {\n  return axios.get(\n    `/search/movie?language=en-US&query=${query}&page=1&include_adult=false`\n  );\n};\n\nexport const getCastMovie = (movie_id) => {\n  return axios.get(`/movie/${movie_id}/credits?language=en-US`);\n};\n\nexport const getReviewsMovie = (movie_id) => {\n  return axios.get(`/movie/${movie_id}/reviews?language=en-US&page=1`);\n};\n"],"sourceRoot":""}